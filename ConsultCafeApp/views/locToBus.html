<!--{% load staticfiles %}-->

<!DOCTYPE html>
<html>
	<head>
		<!--<link rel="stylesheet" type="text/css" href={% static "vendor/css/bootstrap.css" %}>
		<link rel="stylesheet" type="text/css" href={% static "css/main.css" %}>
		<link href='http://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700' rel='stylesheet' type='text/css'>
		<script src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=drawing"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src={% static "js/map.js" %}></script>
		<script src={% static "js/drawingcontrol.js" %}></script>
		<script src={% static "vendor/js/bootstrap.min.js" %}></script>-->
		<link rel="stylesheet" type="text/css" href="../static/vendor/css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="../static/css/main.css">
		<link href='http://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700' rel='stylesheet' type='text/css'>
		<script src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=drawing"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="../static/js/map.js"></script>
		<script src="../static/js/drawingcontrol.js"></script>
		<script src="../static/vendor/js/bootstrap.min.js"></script>
		<script>
			var map;
			var drawingManager;
			var curPolygons = [];
			function initialize() {
				map = initMap('map-canvas');
				drawingManager = new google.maps.drawing.DrawingManager({
					drawingControl: false,
					drawingMode: null
				});
				drawingManager.setMap(map);
				
				google.maps.event.addListener(drawingManager, 'polygoncomplete', function (polygon) {
					curPolygons.push(polygon);
				});
			
			};
			google.maps.event.addDomListener(window, 'load', initialize);
			
			function startPolygon() {
				drawingManager.setDrawingMode(google.maps.drawing.OverlayType.POLYGON);
			};
			function stopPolygon() {
				drawingManager.setDrawingMode(null);
			};
			function clearAll() {
				for(var p = 0; p < curPolygons.length; p++) {
					curPolygons[p].setMap(null);
				}
				curPolygons.clear;
			};
		</script>
	</head>
	<body>
		<div class="container fullscreen">
			<div class="row fullheight">
				<div class="col-xs-2 fullheight sidebar">
				  <button type="button" class="btn btn-primary sidebarbutton">Left</button>
				  <button type="button" class="btn btn-primary sidebarbutton">Middle</button>
				  <button type="button" class="btn btn-primary sidebarbutton">Right</button>
				</div>
				<div class="col-xs-10 fullheight">
					<div id="map-canvas" class="fullscreen">
					</div>
					<div class="horseshit fullscreen">
						<div class="footerbar">
						  <button type="button" class="btn btn-primary footerbarbutton leftmostbutton" onclick="clearAll()">clear</button>
						  <button type="button" class="btn btn-primary footerbarbutton" onclick="startPolygon()">start</button>
						  <button type="button" class="btn btn-primary footerbarbutton" onclick="stopPolygon()">stop</button>
						  <button type="button" class="btn btn-primary footerbarbutton">compute</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>