<!--{% load staticfiles %}-->

<!DOCTYPE html>
<html>
	<head>
		<!--<link rel="stylesheet" type="text/css" href={% static "vendor/css/bootstrap.css" %}>
		<link rel="stylesheet" type="text/css" href={% static "css/main.css" %}>
		<link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500' rel='stylesheet' type='text/css'>
		<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=visualization,geometry"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src={% static "js/map.js" %}></script>
		<script src={% static "js/resto.js" %}></script>
		<script src={% static "js/heatmap.js" %}></script>
		<script src={% static "js/mercator.js" %}></script>
		<script src={% static "js/modal.js" %}></script>
		<script src={% static "vendor/js/bootstrap.min.js" %}></script>-->
		<link rel="stylesheet" type="text/css" href="../static/vendor/css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="../static/css/main.css">
		<link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500' rel='stylesheet' type='text/css'>
		<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=visualization,geometry"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="../static/js/map.js"></script>
		<script src="../static/js/resto.js"></script>
		<script src="../static/js/heatmap.js"></script>
		<script src="../static/js/mercator.js"></script>
		<script src="../static/js/modal.js"></script>
		<script src="../static/vendor/js/bootstrap.min.js"></script>
		<script>
			var map;
			var heatMap;

			function initialize() {
				map = initMap('map-canvas');
				heatMap = new HeatMap();
				heatMap.generate(map);
			};
			google.maps.event.addDomListener(window, 'load', initialize);
		</script>
		<script>
			var modal = new Modal();
			function outputUpdate(rad) {
				heatMap.setRadius(rad);
				document.querySelector("#radiusdisplay").value = rad;
			};
			function viewSubmenu(menu) {
				$(menu).find('.submenu').show(300);
			}
			function closeSubmenu(menu) {
				$(menu).find('.submenu').hide(300);
			}
			function setModalData(source) {
				modal.openModal(source);
			}
			function submitModal() {
				modal.submitModal();
			}
		</script>
	</head>
	<body>
		<div class="container fullscreen">
			<div class="row fullheight">
				<div class="col-xs-2 fullheight sidebar">
					<div style="height: 1px;"></div>
					<div onmouseleave="closeSubmenu(this)" onmouseenter="viewSubmenu(this)">
						<button type="button" class="btn btn-primary sidebarbutton">Restaurants</button>
						<div class="submenu">
							<div class="submenuoption">
								<label class="submenulabel" for="rest_type">Type</label>
								<button type="button" class="btn btn-primary submenubutton" id="rest_type" data-toggle="modal" data-target="#menumodal" onclick="setModalData(this)">+</button>
							</div>
							<div class="submenuoption">
								<label class="submenulabel" for="rest_kitchen">Kitchen</label>
								<button type="button" class="btn btn-primary submenubutton" id="rest_kitchen" data-toggle="modal" data-target="#menumodal" onclick="setModalData(this)">+</button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xs-10 fullheight">
					<div id="map-canvas" class="fullscreen">
					</div>
					<div class="horseshit fullscreen">
						<div class="heatmapmenu">
							<label class="colorwhite" for="radius">Radius</label>
							<output class="colorwhite" for="radius" id="radiusdisplay" style="display:inline; padding-left:2px;">100</output>
							<label class="colorwhite" for="radius">meters</label>
							<input type="range" min=10 max=1000 step=5 id="radius" value=100 oninput="outputUpdate(value)">
						</div>
						<button type="button" class="btn btn-primary infobutton" id="inforeq" data-toggle="modal" data-target="#infomodal" onclick="setModalData(this)">i</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Modals -->
		<div class="modal fade" id="menumodal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-body" id="checkboxmodalcontent">
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
						<button type="button" class="btn btn-primary" onclick="submitModal()">Submit</button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="infomodal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						Heatmap Properties
					</div>
					<div class="modal-body" id="infomodalcontent">
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">Okay</button>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
